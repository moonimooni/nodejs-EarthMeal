<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/css/product-add.css">
</head>

<body>
  <%- include('../includes/nav.ejs') %>
  <main>
    <div id="form_wrapper">
      <div class="form_name">
        <h3>상품 등록</h3>
      </div>
      <form class="product_form" action="/admin/product-add" method="POST">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <div class="input_wrapper input_name">
          <label for="name">상품 이름</label>
          <input id="name" class="input <%= errorMessage.find(e => e.param === 'name') ? 'invalid' : '' %>" type="text" name="name" value="<%= oldInput.name %>">
          <% if (errorMessage.find(i => i.param === 'name')) { %>
          <% let index = errorMessage.findIndex(i => i.param === 'name') %>
          <div class="error"><%= errorMessage[index].msg %></div>
          <% } %>
        </div>
        <div class="input_wrapper input_imgUrl">
          <label for="imgUrl">이미지 링크</label>
          <input id="imgUrl" class="input <%= errorMessage.find(e => e.param === 'imgUrl') ? 'invalid' : '' %>" type="text" name="imgUrl" value="<%= oldInput.imgUrl %>">
          <% if (errorMessage.find(i => i.param === 'imgUrl')) { %>
          <% let index = errorMessage.findIndex(i => i.param === 'imgUrl') %>
          <div class="error"><%= errorMessage[index].msg %></div>
          <% } %>
        </div>
        <div class="input_wrapper input_price">
          <label for="price">가격</label>
          <input id="price" class="input" type="number" name="price">
        </div>
        <div class="input_wrapper input_description">
          <label for="description">설명</label>
          <textarea name="description" class="input" id="description" cols="30" rows="5" maxlength="23"></textarea value="<%= oldInput.description %>">
        </div>
        <input class="submit" type="submit" value="등록하기">
    </div>
    </form>
    </div>
    <%- include('../includes/end.ejs') %>